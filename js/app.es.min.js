/*! Inventory_Frontend v0.1.0 | (c) 2021 Ali Sajid Imami | GPLv3 License | https://github.com/AliSajid/inventory_frontend */
var e="https://xeuq3n6x45.execute-api.us-east-1.amazonaws.com/api/:action",t="45RyYMv4l18bnit8Nidt8N34budgAg249keKuLc6";const n=function(e,t){let n=document.getElementById(t).insertRow(-1),l=n.insertCell(0),o=n.insertCell(1),s=document.createTextNode(e.name),a=document.createElement("input");a.type="number",a.value=e.quantity,l.appendChild(s),o.appendChild(a)},l=function(n){let l=new XMLHttpRequest;const a=e.replace(":action","item");l.open("POST",a),l.setRequestHeader("X-API-KEY",t),l.setRequestHeader("Content-Type","application/json"),l.responseType="json",l.onload=function(){200===this.status?(console.log("Successfully uploaded all items."),console.log(this.response),o("Successfully uploaded all items.",3e3)):(console.log("Failed to upload all items"),console.log(this.response),s("Failed to upload all items.",3e3))},l.send(JSON.stringify(n))},o=function(e,t){const n=document.getElementById("alert");n.className="alert alert-success alert-dismissible fadeIn",n.innerHTML=e,setTimeout((function(){n.className="alert alert-success alert-dismissible fade close",location.reload()}),t)},s=function(e,t){const n=document.getElementById("alert");n.className="alert alert-danger alert-dismissible fadeIn",n.innerHTML=e,setTimeout((function(){n.className="alert alert-success alert-dismissible fade close",location.reload()}),t)};document.addEventListener("DOMContentLoaded",(o=>{console.log("DOM fully loaded and parsed"),function(){let l=new XMLHttpRequest;const o=e.replace(":action","inventory");l.open("GET",o),l.setRequestHeader("X-API-KEY",t),l.responseType="json",l.onload=function(){if(200===this.status){let e=this.response;console.log(e);for(let t of e)n(t,"inventory_table_body")}},l.send()}();document.getElementById("update_item").onclick=function(e){!function(e){let t=document.getElementById("inventory_table_body");for(let e=0;e<t.rows.length;e++){let o={name:"INPUT"===(n=t.rows[e].childNodes[0]).firstChild.nodeName?n.firstChild.value:n.innerHTML,quantity:t.rows[e].childNodes[1].firstChild.value};console.log(o),l(o)}var n}()};document.getElementById("add_item").onclick=function(e){!function(e){let t=document.getElementById(e).insertRow(-1),n=t.insertCell(0),l=t.insertCell(1),o=document.createElement("input");o.type="text",o.value="";let s=document.createElement("input");s.type="number",s.value=0,n.appendChild(o),l.appendChild(s)}("inventory_table_body")}}));
